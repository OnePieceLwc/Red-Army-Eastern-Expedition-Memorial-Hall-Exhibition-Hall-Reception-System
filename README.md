# 红军东征纪念馆展厅接待系统

> 基于 AI 数字人和大语言模型的智能展厅讲解平台

---

## 项目介绍

### 一句话简介

**红军东征纪念馆展厅接待系统**——基于 AI 数字人和大语言模型的智能展厅讲解平台，通过沉浸式大屏交互为访客提供专业、生动的红色文化讲解服务。

![效果展示](效果展示.png)

### 项目背景/痛点

1. **人力成本高昂**：传统纪念馆需要大量专业讲解员，人力成本高且难以 24 小时服务
2. **讲解质量参差不齐**：不同讲解员的专业水平、表达方式差异较大，影响访客体验
3. **信息覆盖不足**：人工讲解受时间和精力限制，无法详细解答每位访客的个性化问题
4. **缺乏沉浸体验**：传统讲解形式单一，难以吸引年轻群体，互动性弱
5. **知识更新困难**：历史资料、展品信息更新时，需要重新培训所有讲解员

### 解决方案

本系统通过技术创新，打造 **AI 数字人智能讲解员**，实现展厅接待的智能化升级：

#### 🎯 核心技术

- **魔珐星云数字人 SDK**：实时渲染的 3D 数字人，支持自然语音合成和口型同步
- **智谱 GLM-4 大模型**：强大的自然语言理解与生成能力，提供精准的历史知识问答
- **流式响应技术**：AI 回答实时生成，数字人即时语音播报，流畅自然

#### ✨ 核心功能

1. **智能接待与讲解**：数字人主动问候访客，提供专业的历史背景介绍
2. **实时问答互动**：支持访客自由提问，AI 基于红军东征知识库提供准确回答
3. **预置问题快速响应**：6 个高频问题一键提问，提升访客咨询效率
4. **状态反馈系统**：实时显示数字人在线/离线/思考/说话状态
5. **个性化服务**：支持自定义 GLM API 密钥，便于后续扩展

#### 🏆 应用价值

- **降本增效**：数字人可全天候服务，大幅降低人力成本
- **体验升级**：沉浸式大屏交互 + 逼真数字人，吸引年轻访客
- **知识传承**：基于专业历史资料，确保讲解内容的准确性和权威性
- **可复制性强**：技术方案可推广至其他纪念馆、博物馆、展览馆等场景

---

## 功能特性

### 智能接待
- 🤖 3D 数字人实时渲染，支持流畅的语音播报
- 👋 主动问候访客，提供友好的接待服务
- 🔊 可调节音量控制，适应不同场景需求

### 智能问答
- 💬 基于智谱 GLM-4 大模型，提供精准的问答服务
- 🌊 流式响应，实时显示 AI 思考过程
- 📚 专业的红军东征知识库，确保回答准确性

### 快速提问
- ⚡ 6 个高频预置问题，一键提问
- 🎯 涵盖历史背景、主要路线、重要战役等核心内容
- 📋 包含展厅开放时间、参观须知等实用信息

### 对话管理
- 📝 完整的对话历史记录
- 🔄 支持多轮对话，上下文连贯
- 💾 自动保存 API 密钥配置

### 系统配置
- 🔑 支持 GLM API 密钥配置
- 🧪 内置测试密钥，快速体验
- 🗑️ 一键清除密钥功能

---

## 技术架构

### 前端技术

| 技术 | 说明 |
|------|------|
| HTML5 | 页面结构 |
| CSS3 | 样式设计，响应式布局 |
| JavaScript ES6+ | 核心逻辑实现 |

### AI 服务

| 服务 | 提供商 | 用途 |
|------|--------|------|
| 魔珐星云 SDK | 魔珐科技 | 3D 数字人渲染与语音合成 |
| GLM-4 大模型 | 智谱 AI | 自然语言理解与生成 |

### 项目结构

```
红军东征纪念馆展厅接待/
├── index.html              # 主页面
├── README.md               # 项目文档
├── css/
│   └── style.css          # 样式文件
└── js/
    ├── config.js          # 配置文件（数字人、GLM API、预置问题）
    ├── storage.js         # 本地存储管理
    ├── digitalHuman.js    # 数字人控制模块
    ├── glmAI.js           # GLM AI 接口封装
    └── main.js            # 主程序逻辑
```

---

## 快速开始

### 环境要求

- 现代浏览器（Chrome、Edge、Firefox 等）
- 稳定的网络连接（用于调用 AI 服务）
- GLM API 密钥（可使用内置测试密钥或自定义）

### 安装部署

1. **下载项目**
```bash
git clone <repository-url>
cd 红军东征纪念馆展厅接待
```

2. **直接打开**
```bash
# 使用浏览器直接打开 index.html
start index.html
```

### 使用说明

#### 第一步：配置 API 密钥

1. 打开系统后，进入密钥配置页面
2. 选择 **"使用测试密钥"** 快速体验，或
3. 输入自己的 GLM API 密钥，点击 **"保存自定义密钥"**
4. 点击 **"🚀 进入展厅"** 进入主界面

#### 第二步：连接数字人

1. 点击左侧的 **"🔌 连接数字人"** 按钮
2. 等待数字人连接成功（状态显示为 "已连接"）

#### 第三步：开始交互

1. **快速提问**：点击右侧预置问题按钮，一键提问
2. **自由提问**：在输入框中输入问题，点击 **"📤 发送"**
3. **调整音量**：点击 **"🔊 音量"** 按钮，拖动滑块调整

#### 第四步：查看对话历史

- 所有对话会显示在 **"💬 对话历史"** 区域
- 支持滚动查看历史记录

---

## 配置说明

### 数字人配置

位置：`js/config.js`

```javascript
digitalHuman: {
    appId: 'your-app-id',
    appSecret: 'your-app-secret',
    gatewayServer: 'https://nebula-agent.xingyun3d.com/user/v1/ttsa/session',
    containerId: '#avatar-container'
}
```

### GLM API 配置

位置：`js/config.js`

```javascript
glm: {
    apiUrl: 'https://open.bigmodel.cn/api/paas/v4/chat/completions',
    model: 'glm-4',
    testApiKey: 'your-test-api-key'  // 内置测试密钥
}
```

### 系统提示词

系统提示词定义了数字人的角色和回答风格，可在 `js/config.js` 中自定义。

当前提示词包含：
- 讲解风格要求（庄重、亲切、通俗）
- 红军东征关键信息（时间、背景、路线、战役、成果、意义）
- 展厅服务信息（开放时间、门票、设施、须知）
- 回答要求（准确、简洁、有感染力，200-300 字以内）

### 预置问题

位置：`js/config.js`

可以添加或修改预置问题：

```javascript
presetQuestions: [
    {
        id: 1,
        question: '红军东征的历史背景是什么？',
        icon: '📜'
    },
    // ... 更多问题
]
```

---

## 开发信息

### 开发赛道

魔珐星云具身智能黑客松 - 大屏交互与智能讲解赛道

### 技术特点

- **纯前端实现**：无需后端服务器，部署简单
- **模块化设计**：代码结构清晰，易于维护和扩展
- **流式响应**：AI 回答实时生成，用户体验流畅
- **状态管理**：完善的连接状态和对话状态管理

### 扩展方向

1. **多语言支持**：添加英文、日文等国际讲解
2. **语音识别**：集成语音输入，支持语音提问
3. **多数字人切换**：提供不同形象的数字人选择
4. **知识库扩展**：添加更多历史资料和展品信息
5. **数据分析**：统计访客提问热点，优化讲解内容

---

## 常见问题

### Q: 数字人无法连接？

A: 请检查：
1. 网络连接是否正常
2. 魔珐星云 SDK 是否加载成功
3. 浏览器是否支持 WebGL

### Q: AI 回答很慢？

A: 流式响应会实时显示内容，如果整体较慢，可能是：
1. GLM API 服务器响应延迟
2. 网络连接不稳定
3. 提示词过于复杂，建议简化问题

### Q: 如何更换数字人形象？

A: 需要在魔珐星云平台创建新的数字人，然后在 `js/config.js` 中更新 `appId` 和 `appSecret`。

### Q: API 密钥如何获取？

A: 访问智谱 AI 开放平台（https://open.bigmodel.cn/）注册并申请 API 密钥。

---

## 许可证

本项目仅供学习和交流使用。

---

## 联系方式

如有问题或建议，欢迎反馈。

**开发团队**：红军东征纪念馆智能展厅项目组
**技术支持**：魔珐科技 × 智谱 AI

---

**用科技传承红色文化，用 AI 讲述革命历史** 🚩
